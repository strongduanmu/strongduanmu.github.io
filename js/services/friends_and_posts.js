utils.jq(()=>{$(function(){const s=document.getElementsByClassName("ds-friends_and_posts");for(var e=0;e<s.length;e++){const a=s[e],l=a.getAttribute("api");if(null==l)continue;const t=def.avatar;utils.request(a,l,function(s){for(let l of s.content||s){var e='<div class="grid-cell user-post-card">';e+='<div class="avatar-box">',e+=`<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="${l.html_url||l.url}">`,e+=`<img src="${l.avatar_url||l.avatar||l.icon||t}" onerror="javascript:this.removeAttribute('data-src');this.src='${t}';"/>`,e+=`<span class="title">${l.title||l.login}</span>`,e+="</a>",e+='<div class="labels">';for(let s of l.labels)s.lightness>75?e+=`<div class="label" style="background:#${s.color};color:hsla(${s.hue}, ${s.saturation}%, 20%, 1);">${s.name}</div>`:s.saturation>90&&s.lightness>40?e+=`<div class="label" style="background:#${s.color};color:hsla(${s.hue}, 50%, 20%, 1);">${s.name}</div>`:e+=`<div class="label" style="background:#${s.color};color:white">${s.name}</div>`;if(e+="</div>",e+="</div>",e+='<div class="previews">',l.description?e+=`<div class="desc">${l.description||l.issue_number||""}</div>`:e+=`<div class="desc">#${l.issue_number}</div>`,e+='<div class="posts">',l.posts?.length>0)for(let s of l.posts)e+=`<a class="post-link" target="_blank" rel="external nofollow noopener noreferrer" href="${s.link}">`,e+=`<span class="title">${s.title}</span>`,e+=`<span class="date">${s.published}</span>`,e+="</a>";else e+=`<span class="no-post">${l.feed?.length>0?"RSS 解析失败":"未设置 RSS 链接"}</span>`;e+="</div>",e+="</div>",e+="</div>",$(a).find(".grid-box").append(e)}})}})});