utils.js(window.searchConfig.js).then(()=>{utils.jq(()=>{var e=$("input#search-input");if(0!==e.length){var t=$("#search-result"),n=$("#search-wrapper"),r=algoliasearch(window.searchConfig.appId,window.searchConfig.apiKey).initIndex(window.searchConfig.indexName);e.on("input",function(){var s=$(this).val().trim(),a=e.data("filter");if(s.length<=0)return n.attr("searching","false"),void t.empty();n.attr("searching","true"),r.search(s,{hitsPerPage:window.searchConfig.hitsPerPage,attributesToHighlight:["content"],attributesToSnippet:["content:30"],highlightPreTag:'<span class="search-keyword">',highlightPostTag:"</span>",restrictSearchableAttributes:["content"]}).then(function(e){var r,s;r=function(e,t){if(!t||"/"===t)return e;var n=new RegExp(t);return e.filter(e=>n.test(e.url))}(e.hits,a),s=$("<ul>").addClass("search-result-list"),0===r.length?n.addClass("noresult"):(n.removeClass("noresult"),r.forEach(function(e){var t=e._snippetResult.content.value,n=e.hierarchy.lvl1||"Untitled",r=$("<li>").html(`<a href="${e.url}"><span class='search-result-title'>${n}</span><p class="search-result-content">${t}</p></a>`);s.append(r)})),t.html(s)})}),e.on("keydown",function(e){13==e.which&&e.preventDefault()}),new MutationObserver(function(e){1===e.length&&(e[0].addedNodes.length?n.removeClass("noresult"):e[0].removedNodes.length&&n.addClass("noresult"))}).observe(t[0],{childList:!0})}})});